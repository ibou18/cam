{"ast":null,"code":"var _jsxFileName = \"/Users/ibrahimad/Desktop/start/cam/src/pages/admin/QrCode.jsx\",\n  _s = $RefreshSig$();\nimport { useRef, useState } from \"react\";\nimport { QrReader } from \"react-qr-reader\";\nimport Webcam from \"react-webcam\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst videoConstraints = {\n  width: 1280,\n  height: 720,\n  facingMode: \"user\"\n};\nconst WebcamCapture = () => /*#__PURE__*/_jsxDEV(Webcam, {\n  audio: false,\n  height: 720,\n  screenshotFormat: \"image/jpeg\",\n  width: 1280,\n  videoConstraints: videoConstraints,\n  children: _ref => {\n    let {\n      getScreenshot\n    } = _ref;\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        const imageSrc = getScreenshot();\n      },\n      children: \"Capture photo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this);\n  }\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 12,\n  columnNumber: 3\n}, this);\n_c = WebcamCapture;\nconst QrCode = () => {\n  _s();\n  const [code, setCode] = useState(null);\n  const [showDialog, setDiaglog] = useState(false);\n  const [processing, setProcessing] = useState(false);\n  const [precScan, setPrecScan] = useState(\"\");\n  const [selected, setSelected] = useState(\"environment\");\n  const [activeScan, setActiveScan] = useState(false);\n  let datas = [\"https://labo.fnac.com/\", \"www.laguiplus.com\"];\n  const handleScan = scanData => {\n    if (scanData && scanData) {\n      // window.location.href = scanData;\n      console.log(scanData);\n    }\n  };\n  const handleError = err => {\n    console.error(err);\n  };\n  const videoRef = useRef(null);\n  const getVideo = () => {\n    navigator.mediaDevices.getUserMedia({\n      video: {\n        width: 700\n      }\n    }).then(stream => {\n      let video = videoRef.current;\n      console.log(\"stream\", stream);\n      video.srcObject = stream;\n      video.play();\n    }).catch(err => {\n      console.error(\"error:\", err);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"px-5\",\n    children: [/*#__PURE__*/_jsxDEV(WebcamCapture, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\" \", \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nobis quasi consectetur recusandae officiis illo officia praesentium ducimus sunt tempora eligendi? Dolore ipsum assumenda possimus deleniti soluta nisi rerum repudiandae quaerat.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      onChange: e => setSelected(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"environment\",\n        children: \"C\\xE1mara trasera\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"user\",\n        children: \"C\\xE1mara delantera\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"bg-teal-500 rounded-lg px-5 py-2 mt-5 ml-10\",\n      onClick: () => {\n        getVideo();\n        setActiveScan(!activeScan);\n      },\n      children: [\" \", \"Activer le Scan\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), !showDialog && !processing && activeScan && /*#__PURE__*/_jsxDEV(QrReader, {\n      facingMode: selected,\n      delay: 500,\n      onScan: handleScan,\n      className: \"qr-reader\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(QrCode, \"IABUjtBZOpcNvL071KPSC5i2E1Y=\");\n_c2 = QrCode;\nexport default QrCode;\nvar _c, _c2;\n$RefreshReg$(_c, \"WebcamCapture\");\n$RefreshReg$(_c2, \"QrCode\");","map":{"version":3,"names":["useRef","useState","QrReader","Webcam","videoConstraints","width","height","facingMode","WebcamCapture","getScreenshot","imageSrc","QrCode","code","setCode","showDialog","setDiaglog","processing","setProcessing","precScan","setPrecScan","selected","setSelected","activeScan","setActiveScan","datas","handleScan","scanData","console","log","handleError","err","error","videoRef","getVideo","navigator","mediaDevices","getUserMedia","video","then","stream","current","srcObject","play","catch","e","target","value"],"sources":["/Users/ibrahimad/Desktop/start/cam/src/pages/admin/QrCode.jsx"],"sourcesContent":["import { useRef, useState } from \"react\";\nimport { QrReader } from \"react-qr-reader\";\nimport Webcam from \"react-webcam\";\n\nconst videoConstraints = {\n  width: 1280,\n  height: 720,\n  facingMode: \"user\",\n};\n\nconst WebcamCapture = () => (\n  <Webcam\n    audio={false}\n    height={720}\n    screenshotFormat=\"image/jpeg\"\n    width={1280}\n    videoConstraints={videoConstraints}\n  >\n    {({ getScreenshot }) => (\n      <button\n        onClick={() => {\n          const imageSrc = getScreenshot();\n        }}\n      >\n        Capture photo\n      </button>\n    )}\n  </Webcam>\n);\n\nconst QrCode = () => {\n  const [code, setCode] = useState(null);\n  const [showDialog, setDiaglog] = useState(false);\n  const [processing, setProcessing] = useState(false);\n  const [precScan, setPrecScan] = useState(\"\");\n  const [selected, setSelected] = useState(\"environment\");\n  const [activeScan, setActiveScan] = useState(false);\n\n  let datas = [\"https://labo.fnac.com/\", \"www.laguiplus.com\"];\n\n  const handleScan = (scanData) => {\n    if (scanData && scanData) {\n      // window.location.href = scanData;\n      console.log(scanData);\n    }\n  };\n  const handleError = (err) => {\n    console.error(err);\n  };\n\n  const videoRef = useRef(null);\n  const getVideo = () => {\n    navigator.mediaDevices\n      .getUserMedia({ video: { width: 700 } })\n      .then((stream) => {\n        let video = videoRef.current;\n        console.log(\"stream\", stream);\n        video.srcObject = stream;\n        video.play();\n      })\n      .catch((err) => {\n        console.error(\"error:\", err);\n      });\n  };\n\n  return (\n    <div className=\"px-5\">\n      <WebcamCapture />\n      {/* <video ref={videoRef} className=\"mx-auto mt-10\" />\n      <canvas /> */}\n\n      <p>\n        {\" \"}\n        Lorem ipsum dolor sit amet consectetur adipisicing elit. Nobis quasi\n        consectetur recusandae officiis illo officia praesentium ducimus sunt\n        tempora eligendi? Dolore ipsum assumenda possimus deleniti soluta nisi\n        rerum repudiandae quaerat.\n      </p>\n\n      <select onChange={(e) => setSelected(e.target.value)}>\n        <option value={\"environment\"}>Cámara trasera</option>\n        <option value={\"user\"}>Cámara delantera</option>\n      </select>\n      <button\n        className=\"bg-teal-500 rounded-lg px-5 py-2 mt-5 ml-10\"\n        onClick={() => {\n          getVideo();\n          setActiveScan(!activeScan);\n        }}\n      >\n        {\" \"}\n        Activer le Scan\n      </button>\n      {!showDialog && !processing && activeScan && (\n        <QrReader\n          facingMode={selected}\n          delay={500}\n          onScan={handleScan}\n          className=\"qr-reader\"\n        />\n      )}\n    </div>\n  );\n};\n\nexport default QrCode;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}